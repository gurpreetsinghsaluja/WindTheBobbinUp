<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    li:hover {
      color: cyan;
    }
</style>
<body>
    <h2 id="heading"></h2>
    <p id="paragraph"></p>
    <ul id="ulist"></ul>
</body>
<script>
    //var arr =
   // var interact = ;
    var rhyme = {
        src:"https://bilingualkidspot.com/2018/04/23/popular-nursery-rhymes-for-kids-english/",
        title: "Wind the bobbin up",
        lines: [
            "Wind the bobbin up, wind the bobbin up",
            "Pull, pull, clap clap clap",
            "Wind the bobbin up, wind the bobbin up",
            "Pull, pull, clap clap clap",
            "Point to the ceiling, point to the floor",
            "Point to the window, point to the door",
            "Clap your hands together, 1, 2, 3",
            "Put your hands down on your knees",
            ],
        lineInfo: Array(8).fill(0)
    }
    document.getElementById("heading").innerHTML=rhyme.title;
    document.getElementById("paragraph").innerHTML=rhyme.src;
    // If the array is not changed, the localStorage will be null intitally, as we are required to change localStorage only when array changes. So checking if it is null.
    if (localStorage.getItem('bobbin')!== null ){
        //if array is not null, then updating lineInfo with localStorage
       rhyme.lineInfo=JSON.parse(localStorage.getItem('bobbin'));
    }
    for (let i = 0; i < rhyme.lines.length; i++) {
        var uitem = document.createElement('li');
        uitem.textContent=rhyme.lines[i];
        uitem.innerHTML += ` <span id=${i}>${rhyme.lineInfo[i]}</span>`;
        document.getElementById("ulist").appendChild(uitem);

        uitem.addEventListener("mouseenter",function(){
            //updating lineInfo on mouseenter event
            rhyme.lineInfo[i]++;
            //updating the number in list item
            document.getElementById(`${i}`).innerText = rhyme.lineInfo[i];
            jso = JSON.stringify(rhyme.lineInfo);
            // saving array to localStorage whenever it is changed
            localStorage.setItem('bobbin', jso);
        })
    }
    //console.log(localStorage.getItem('bobbin'));
</script>
</html>